/*
  app.css – Drone Ops Scoreboard UI  (v14)
  Layout matches wire‑frame: header + grid boxed left, fixed log bar right.
*/

@import url("./variables.css");

/* ---------- base ---------- */
html, body { height: 100%; }
body {
  margin: 0;
  display: flex;           /* so page area can auto‑size */
  background: var(--color-bg);
  color: var(--color-text-primary);
  font-family: var(--font-body);
}
h1, h2, h3, h4, h5, h6 { font-family: var(--font-heading); margin: 0; }

/* ====================================================================
   PAGE WRAPPER  (everything that scrolls)
   ==================================================================== */
.page {
  flex: 1 1 auto;                       /* use remaining width */
  max-width: 1400px;
  margin: 0 auto;                       /* centred in viewport */
  padding: 0 3rem 3rem;                 /* grid gets 3‑rem padding all round */
  box-sizing: border-box;
}

/* ====================================================================
   HEADER
   ==================================================================== */
.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 1.25rem;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-bottom: none;                  /* seam with grid box */
}
.header__left { display: flex; gap: 1rem; align-items: center; }
.header__rank, .header__score { font-family: var(--font-heading); font-size: 0.95rem; letter-spacing: 1px; }
.header__title { margin: 0 auto; font-family: var(--font-heading); font-size: 2rem; letter-spacing: 2px; }
.header__reset {
  background: var(--color-surface-alt); color: var(--color-text-primary);
  border: 1px solid var(--color-border); border-radius: var(--radius-s);
  padding: 0.55rem 1.1rem; font-family: var(--font-heading); font-size: 0.95rem;
  cursor: pointer; transition: background .15s, transform .15s;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.4);
}
.header__reset:hover  { background: #0e2738; }
.header__reset:active { transform: scale(0.96); background: #091822; }

/* ====================================================================
   GRID
   ==================================================================== */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
  gap: 1.25rem;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-top: none;                     /* seam with header box */
  padding: 2rem;
}

/* cards & buttons unchanged from previous version ------------------ */
.card      { /* same rules as v12 */ }
.card__thumb{ position: relative; cursor: pointer; }
.card__img  { width: 240px; height: 100%; object-fit: cover; display: block; filter: brightness(0.9); }
.card__zoom { position: absolute; top: 8px; right: 8px; width: 28px; height: 28px;
              opacity: .2; transition: opacity .15s, transform .15s;}
.card__thumb:hover .card__zoom{ opacity:.35; transform:scale(1.05);}
.card--horizontal{ display:flex; }
.card__content {flex:1; display:flex; flex-direction:column; justify-content:space-between; padding:1rem;}
.card__title{font-family:var(--font-heading);font-size:1.3rem;margin-bottom:.45rem;text-align:left;}
.card__desc{font-size:1rem;margin-bottom:.45rem;text-align:left;}
.card__category{font-size:.85rem;color:var(--color-text-secondary);text-align:left;}
.card__actions{display:flex;gap:.6rem;}

.btn{flex:1;padding:.6rem 0;font-size:.95rem;font-weight:600;border-radius:var(--radius-s);
     border:1px solid var(--color-border);font-family:var(--font-heading);letter-spacing:1px;
     cursor:pointer;transition:transform .15s,background .12s;box-shadow:inset 0 0 0 1px rgba(0,0,0,.35);}
.btn:active{transform:scale(.96);background:#9b2c2c;}
.btn--kkill{background:var(--color-success);color:var(--color-text-primary);}
.btn--mkill{background:var(--color-accent); color:var(--color-text-primary);}
@keyframes btnFlash{0%{box-shadow:0 0 0 2px var(--color-accent);}100%{box-shadow:inset 0 0 0 1px rgba(0,0,0,.35);}}
.btn.flash{animation:btnFlash .25s ease-out;}
/* ------------------------------------------------------------------ */

/* ====================================================================
   FIXED SIDEBAR
   ==================================================================== */
.log{
  position:fixed; right:0; top:0; bottom:0;
  width:280px; background:#0E2433; border-left:2px solid #fff;
  display:flex; flex-direction:column; overflow:hidden; z-index:1;
}
.log.closed{display:none;}

.log__toggle{
  position:absolute; left:-28px; top:50%; transform:translateY(-50%);
  width:28px;height:80px; border:none; cursor:pointer;
  background:var(--color-accent); color:#000; font-weight:bold;
}

.log__list{
  flex:1; margin:0; padding:1rem; list-style:none;
  display:flex; flex-direction:column-reverse; gap:.25rem; overflow-y:auto;
  font-family:var(--font-body); font-size:.8rem; letter-spacing:.5px;
  overflow-wrap:anywhere;
}
.log__line{word-break:break-word;}

.log__cursor{animation:blink 1s steps(1) infinite;}
@keyframes blink{50%{opacity:0;}}

/* ====================================================================
   MODAL (unchanged)
   ==================================================================== */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:100;}
.modal__dialog{position:relative;max-width:90vw;max-height:90vh;}
.modal__dialog img{width:100%;height:100%;object-fit:contain;border:2px solid var(--color-border);border-radius:var(--radius-m);}
.modal__close{position:absolute;top:-14px;right:-14px;width:32px;height:32px;border-radius:50%;border:none;font-size:1.2rem;font-weight:600;cursor:pointer;background:var(--color-warning);color:var(--color-bg);box-shadow:0 0 0 2px var(--color-border);}
.modal__close:hover{filter:brightness(1.1);}

/* ---------- utility ---------- */
.motion-scale{transition:transform .15s;}
.motion-scale:hover{transform:scale(1.04);}
